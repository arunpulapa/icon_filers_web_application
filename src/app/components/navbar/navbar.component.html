<!-- Top compact contact row -->
<div class="top-contact-row-modern d-none d-md-flex align-items-center justify-content-end px-3 py-1">
  <a class="contact-link-modern me-3" href="mailto:info@iconfilers.com" title="Email">
    <span class="contact-ico"><i class="bi bi-envelope-fill"></i></span>
    info@iconfilers.com
  </a>
  <span class="contact-sep"></span>
  <a class="contact-link-modern ms-3" href="tel:+14704801881" title="Phone">
    <span class="contact-ico"><i class="bi bi-telephone-fill"></i></span>
    +1 470-480-1881
  </a>
</div>

<!-- Main navbar -->
<nav class="app-navbar" [class.scrolled]="isScrolled" role="navigation" aria-label="Main navigation">
  <div class="nav-inner container-fluid d-flex align-items-center justify-content-between">
    
    <!-- Brand / Logo (TEXT ONLY) -->
    <div class="brand" routerLink="/home" (click)="gotoAndClose('/home')">
      <span class="brand-name">ICON FILERS</span>
    </div>

    <!-- Mobile Toggle -->
    <button
      class="toggle-btn d-lg-none"
      [attr.aria-expanded]="!isCollapsed"
      (click)="toggleCollapse()"
      aria-label="Toggle menu"
    >
      <i class="bi bi-list fs-3"></i>
    </button>

    <!-- Nav Links + Right Auth Buttons -->
    <div class="nav-links d-flex align-items-center" [class.open]="!isCollapsed">
      <!-- Center menu -->
      <ul class="links-left d-flex flex-column flex-lg-row align-items-lg-center justify-content-lg-center">
        <li>
          <a routerLink="/home" (click)="gotoAndClose('/home')" class="nav-link">HOME</a>
        </li>
        <li>
          <a routerLink="/about-us" (click)="gotoAndClose('/about-us')" class="nav-link">ABOUT US</a>
        </li>

        <!-- ============= SERVICES DROPDOWN (MEGA MENU) ============= -->
        <li class="dropdown" tabindex="0" [class.open]="servicesOpen">
          <a
            class="drop-toggle nav-link"
            (click)="servicesOpen = !servicesOpen"
            role="button"
            aria-haspopup="true"
            [attr.aria-expanded]="servicesOpen"
          >
            SERVICES <i class="bi bi-caret-down-fill ms-1"></i>
          </a>
          <ul class="dropdown-menu services-mega shadow" [class.show]="servicesOpen">
            <li>
              <div class="services-mega-grid">
                <!-- Column 1: Tax Preparation & Filing -->
                <div class="services-mega-col">
                  <div class="header">Tax Preparation &amp; Filing</div>
                  <a class="dropdown-item" (click)="gotoAndClose('/individual-tax-returns')">
                    Individual Tax Returns (1040 / 1040NR)
                  </a>
                  <a class="dropdown-item" (click)="gotoAndClose('/business-tax-returns')">
                    Business Tax Returns (1120 / 1065)
                  </a>
                  <a class="dropdown-item" (click)="gotoAndClose('/international-tax-returns')">
                    International Tax Returns
                  </a>
                </div>

                <!-- Column 2: ITIN / W-7 -->
                <div class="services-mega-col">
                  <div class="header">ITIN &amp; W-7 Services</div>
                  <a class="dropdown-item" (click)="gotoAndClose('/W7-ITIN-Application')">
                    W7 &amp; ITIN Application
                  </a>
                  <a class="dropdown-item" (click)="gotoAndClose('/certified-acceptance-agent')">
                    Certified Acceptance Agent (CAA)
                  </a>
                </div>

                <!-- Column 3: Tax Advisory -->
                <div class="services-mega-col">
                  <div class="header">Tax Advisory</div>
                  <a class="dropdown-item" (click)="gotoAndClose('/personal-tax-planning')">
                    Personal Tax Planning
                  </a>
                  <a class="dropdown-item" (click)="gotoAndClose('/business-entity-tax-planning')">
                    Business &amp; Entity Tax Planning
                  </a>
                  <a class="dropdown-item" (click)="gotoAndClose('/general-advisory')">
                    General Advisory
                  </a>
                </div>

                <!-- Column 4: Company Formation -->
                <div class="services-mega-col">
                  <div class="header">Company Formation &amp; Compliance</div>
                  <a class="dropdown-item" (click)="gotoAndClose('/llc-corporation-formation')">
                    LLC / Corporation Formation
                  </a>
                  <a class="dropdown-item" (click)="gotoAndClose('/registered-agent-annual-reporting')">
                    Registered Agent &amp; Annual Reporting
                  </a>
                  <a class="dropdown-item" (click)="gotoAndClose('/ein-state-registrations')">
                    EIN &amp; State Registrations
                  </a>
                </div>
              </div>
            </li>
          </ul>
        </li>
        <!-- ============================================================= -->

        <li>
          <a routerLink="/pricing" (click)="gotoAndClose('/pricing')" class="nav-link">PRICING</a>
        </li>
        <li>
          <a routerLink="/contact-us" (click)="gotoAndClose('/contact-us')" class="nav-link">CONTACT US</a>
        </li>
        <li>
          <a routerLink="/refund-estimate" (click)="gotoAndClose('/refund-estimate')" class="nav-link">
            REFUND ESTIMATION
          </a>
        </li>
      </ul>

      <!-- Right side auth buttons -->
       <div style="margin-left: 50px;">
  <div class="links-right" >
        <a
          class="link-login btn-cta btn btn-outline-primary rounded-pill"
          routerLink="/login"
          (click)="gotoAndClose('/login')" 
        >
          <i class="bi bi-lock-fill me-1"></i> Sign in
        </a>

        <a
          class="btn-cta btn btn-primary rounded-pill"
          routerLink="/register"
          (click)="gotoAndClose('/register')"
        >
          Register
        </a>
      </div>
       </div>
    
    </div>
  </div>
</nav>
